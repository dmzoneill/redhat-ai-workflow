# =============================================================================
# AA-SLACK MCP SERVER CONFIGURATION
# =============================================================================
# Copy this file to .env and fill in your values
#
# This server uses Slack's internal web API (not the official Bot API).
# IMPORTANT: This approach uses internal APIs and may violate Slack's ToS.
# Use responsibly and at your own risk.
# =============================================================================

# -----------------------------------------------------------------------------
# AUTHENTICATION (REQUIRED)
# -----------------------------------------------------------------------------
# These credentials are obtained from the Slack web client (browser dev tools)
#
# To obtain:
# 1. Open Slack in your browser (app.slack.com)
# 2. Open Developer Tools (F12) → Network tab
# 3. Filter by "api" or look for any API call to slack.com/api/*
# 4. Find these values:
#
# XOXC_TOKEN: Look for "token" parameter in the request body
#             It starts with "xoxc-..."
#
# D_COOKIE: Look for the "d" cookie in the Cookie header
#           It's a long base64-encoded string
# -----------------------------------------------------------------------------

SLACK_XOXC_TOKEN=xoxc-your-token-here
SLACK_D_COOKIE=your-d-cookie-here

# Workspace ID (optional - for multi-workspace setups)
# Find in URL: app.slack.com/client/T12345678/...
SLACK_WORKSPACE_ID=

# -----------------------------------------------------------------------------
# LISTENER CONFIGURATION
# -----------------------------------------------------------------------------

# How often to poll for new messages (seconds)
SLACK_POLL_INTERVAL=5

# Channels to monitor (comma-separated channel IDs)
# To get channel ID: right-click channel → Copy link → extract ID from URL
# Example: C12345678,C87654321
SLACK_WATCHED_CHANNELS=

# Keywords that trigger the agent (comma-separated, case-insensitive)
# Example: help,urgent,question,@agent
SLACK_WATCHED_KEYWORDS=help,question

# User IDs whose messages always trigger (comma-separated)
# Messages from these users are always queued regardless of keywords
SLACK_WATCHED_USERS=

# Your own user ID (messages from this user are ignored)
# Find in Slack profile → More → Copy member ID
SLACK_SELF_USER_ID=

# -----------------------------------------------------------------------------
# RATE LIMITING
# -----------------------------------------------------------------------------

# Maximum retry attempts for rate-limited requests
SLACK_MAX_RETRIES=5

# Base backoff time in seconds (exponential backoff applied)
SLACK_BASE_BACKOFF=1.0

# -----------------------------------------------------------------------------
# PERSISTENCE
# -----------------------------------------------------------------------------

# Path to SQLite database for state persistence
# This stores: last processed timestamps, pending messages, user cache
SLACK_STATE_DB_PATH=./slack_state.db

# -----------------------------------------------------------------------------
# DEBUG
# -----------------------------------------------------------------------------

# Enable verbose debug logging
SLACK_DEBUG=false
