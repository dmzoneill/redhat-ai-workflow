error_patterns:
- commands:
  - quay_check_image_exists(image='...', tag='...')
  - kubectl describe pod <pod> -n <namespace>
  fix: Check image name, tag exists in Quay, and registry credentials
  meaning: Cannot pull container image from registry
  pattern: ImagePullBackOff
- commands:
  - kubectl logs <pod> -n <namespace> --previous
  - kubectl describe pod <pod>
  fix: Check logs for startup errors, config issues, or missing deps
  meaning: Container crashes repeatedly on startup
  pattern: CrashLoopBackOff
- commands:
  - kubectl describe pod <pod>
  - kubectl get events -n <namespace>
  fix: Check resource availability, node taints, or PVC issues
  meaning: Pod cannot be scheduled
  pattern: PodPending
- commands:
  - kubectl describe pod <pod> -n <namespace>
  - kubectl top pod -n <namespace>
  fix: Increase memory limits in deployment or investigate memory leak
  meaning: Container exceeded memory limits
  pattern: OOMKilled
  related_jiras: []
- commands:
  - kubectl describe pod <pod>
  - kubectl logs <pod> --tail=100
  fix: Check probe endpoints, increase timeout, or fix health endpoint
  meaning: Readiness or liveness probe failed
  pattern: Unhealthy
- commands:
  - kubectl get nodes
  - kubectl describe pod <pod>
  fix: Check node resources, affinity rules, or PVC availability
  meaning: Scheduler cannot place pod on any node
  pattern: FailedScheduling
- commands:
  - kubectl get endpoints <service> -n <namespace>
  - kubectl get pods -l <selector>
  fix: Check if target pod is running, service selector matches, network policies
  meaning: Service endpoint not reachable
  pattern: connection refused
- commands:
  - kubectl logs <pod> --tail=200
  - prometheus_query for latency
  fix: Check upstream service health, increase timeout, or investigate slowness
  meaning: Request timeout to upstream service
  pattern: deadline exceeded
jira_cli_patterns:
- commit: 85d96ea
  date: '2026-01-02'
  description: 'The rh-issue CLI for creating Jira stories requires:

    1. --input-file with YAML containing Title Case field names

    2. Required fields: User Story, Acceptance Criteria, Supporting Documentation,
    Definition of Done

    3. --no-ai flag for non-interactive mode

    4. Summary is passed as positional arg, not in YAML

    '
  issue: AAP-61699
  pattern: rh-issue create-issue requires --input-file for stories
  solution: Build temp YAML file with proper fields, use --input-file --no-ai
last_updated: null
performance_patterns: []
pipeline_patterns:
- commands:
  - lint_python(repo='.', fix=True)
  fix: Run black, isort, flake8 locally
  meaning: Code style issues
  pattern: lint failed
- commands:
  - test_run(repo='.', verbose=True)
  fix: Run tests locally to reproduce
  meaning: Unit or integration tests failing
  pattern: tests failed
- commands:
  - konflux_list_builds(namespace='aap-aa-tenant')
  - quay_check_image_exists(image='...', tag='<full-sha>')
  fix: Wait for Konflux build to complete, check PipelineRun status
  meaning: Image not yet built by Konflux
  pattern: manifest unknown
- commands:
  - kube_login(cluster='e')
  - kube_login(cluster='s')
  fix: Run kube-clean X && kube X to refresh token
  meaning: Kubernetes token expired
  pattern: Unauthorized

auth_patterns:
- commands:
  - vpn_connect()
  fix: Connect to Red Hat VPN
  meaning: Cannot reach internal cluster or service
  pattern: No route to host
- commands:
  - kube_login(cluster='e')
  fix: Refresh ephemeral cluster credentials
  meaning: Kubernetes authentication expired
  pattern: token expired
- commands:
  - Check DISPLAY, XAUTHORITY environment variables
  fix: Ensure GUI environment is available for browser-based SSO
  meaning: Cannot open browser for OAuth
  pattern: Cannot open display

bonfire_patterns:
- commands:
  - bonfire namespace list --mine
  - bonfire namespace release <ns> --force
  fix: Add --force flag for non-interactive mode
  meaning: Bonfire prompting for confirmation in non-TTY
  pattern: Output is not a TTY
- commands:
  - quay_check_image_exists(tag='<40-char-sha>')
  fix: Use FULL 40-character commit SHA, not short 8-char SHA
  meaning: Image tag doesn't exist in Quay registry
  pattern: image not found
- commands:
  - bonfire namespace list --mine
  fix: Only release namespaces you own
  meaning: Cannot release namespace owned by another user
  pattern: namespace not owned
